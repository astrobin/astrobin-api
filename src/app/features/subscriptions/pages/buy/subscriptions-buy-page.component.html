<h1 class="d-flex align-items-center">
  <span class="flex-fill">{{ subscriptionsService.getName(product) }}</span>
  <span class="price">
    {{ price$ | async | currency:this.subscriptionsService.currency:'symbol':'1.2-2':translate.currentLang }}
  </span>
</h1>

<small>
  {{ "Validity" | translate }}: <strong>1 {{ "year" | translate }}</strong> &middot;
  {{ "Autorenew" | translate }}: <strong>{{ "No" | translate }}</strong>
</small>
<small [innerHTML]="moreInfoMessage"></small>

<ngb-accordion class="info">
  <ngb-panel *ngIf="product === 'premium' || product==='ultimate'"
    title="{{ 'Want to upgrade from a lower subscription tier?' | translate }}">
    <ng-template ngbPanelContent>
      <p [innerHTML]="upgradeMessage"></p>
    </ng-template>
  </ngb-panel>

  <ngb-panel title="{{ 'Prefer to pay via bank transfer?' | translate }}">
    <ng-template ngbPanelContent>
      <p>
        <span [innerHtml]="bankDetailsMessage$ | async"></span>&nbsp;
        <span translate>Thanks!</span>
      </p>

      <label for="bank-location-selector">{{ "Preferred bank location" }}:</label>
      <ng-select id="bank-location-selector" [items]="bankLocations" bindValue="id" appendTo="body" [clearable]="false"
        [(ngModel)]="selectedBankLocation">
      </ng-select>

      <pre [innerHTML]="bankDetails"></pre>
    </ng-template>
  </ngb-panel>
</ngb-accordion>

<div *ngIf="alreadySubscribed$ | async; else buyButton" class="already-subscribed alert alert-warning">
  <h5>{{ "Please note: you already are on this plan or a higher one." | translate }}</h5>
  <p>
    {{
    "For this reason, you cannot purchase this at the moment, as AstroBin does not currently offer a downgrade path." | translate
    }}
  </p>
</div>

<ng-template #buyButton>
  <div class="form-actions">
    <a [class.disabled]="loadingService.isLoading()" class="btn btn-outline-secondary"
      [href]="classicRoutesService.PRICING">
      <fa-icon icon="info"></fa-icon>
      {{ "Learn more" | translate }}
    </a>

    <button (click)="buy()" [class.loading]="loadingService.isLoading()" [disabled]="loadingService.isLoading()"
      class="btn btn-xl btn-primary buy">
      {{ "Buy" | translate }}
      <span class="icons">
        <img class="icon" src="/assets/images/cc-visa-brands.svg" alt="Visa" />
        <img class="icon" src="/assets/images/cc-mastercard-brands.svg" alt="Mastercard" />
        <img class="icon" src="/assets/images/cc-amex-brands.svg" alt="Amex" />
        <img class="icon" src="/assets/images/apple-pay-brands.svg" alt="Apple Pay" />
        <img class="icon" src="/assets/images/google-pay-brands.svg" alt="Google Pay" />
      </span>
    </button>
  </div>
</ng-template>