<div class="page" *ngIf="activeType">
  <h1>{{ title }} <em class="beta">(beta)</em></h1>
  <small>{{ "AstroBin's new equipment database is still work in progress." | translate }}</small>

  <div class="row">
    <div class="col-md-4">
      <astrobin-equipment-item-type-nav></astrobin-equipment-item-type-nav>
    </div>

    <div class="col">
      <astrobin-equipment-explorer
        [activeType]="activeType"
        [activeId]="activeId"
        [activeEditProposalId]="activeEditProposalId"
        (valueChanged)="activeId = !!$event ? $event.id : null"
      ></astrobin-equipment-explorer>

      <ng-container *ngIf="!activeId">
        <ng-container *ngIf="items$ | async as items; else loading">
          <ul class="items">
            <li *ngFor="let item of items.results" data-id="{{ item.id }}">
              <a href="#" appEventPreventDefault (click)="viewItem(item)">
                <astrobin-equipment-item-display-name [item]="item"></astrobin-equipment-item-display-name>
              </a>
            </li>
          </ul>

          <astrobin-nothing-here *ngIf="items.count === 0"></astrobin-nothing-here>

          <ngb-pagination (pageChange)="pageChange($event)" [(page)]="page" [collectionSize]="items.count">
          </ngb-pagination>
        </ng-container>
      </ng-container>
    </div>
  </div>
</div>

<ng-template #loading>
  <astrobin-loading-indicator></astrobin-loading-indicator>
</ng-template>
