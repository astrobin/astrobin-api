<div class="page">
  <h1>{{ title }} <em class="beta">(beta)</em></h1>
  <small>{{ "AstroBin's new equipment database is still work in progress." | translate }}</small>

  <div class="row">
    <div  [class]="navCollapsed ? 'col-md-1' : 'col-md-4'">
      <astrobin-equipment-item-type-nav (collapsedChanged)="navCollapsed = $event"></astrobin-equipment-item-type-nav>
    </div>

    <div class="col">
      <ng-container *ngIf="items$ | async as items; else loading">
        <div *ngIf="pendingType === PendingType.PENDING_EDIT" class="alert alert-info">
          <fa-icon icon="info-circle"></fa-icon>
          {{ "The AstroBin equipment database is a collective community effort similar to Wikipedia." | translate }}
          {{ "Anybody can review edit proposals made by any other member." | translate }}
          {{ "Feel free to contribute!" | translate }}
        </div>
        <ng-container *ngFor="let item of items.results">
          <astrobin-equipment-explorer
            [enableBrowser]="false"
            [activeType]="activeType"
            [activeId]="item.id"
            [activeEditProposalId]="activeEditProposalId"
            (approved)="getItems()"
            (rejected)="getItems()"
          ></astrobin-equipment-explorer>
        </ng-container>

        <astrobin-nothing-here *ngIf="items.count === 0"></astrobin-nothing-here>

        <ngb-pagination
          *ngIf="items.count > items.results.length"
          (pageChange)="pageChange($event)"
          [(page)]="page"
          [collectionSize]="items.count"
        >
        </ngb-pagination>
      </ng-container>
    </div>
  </div>
</div>

<ng-template #loading>
  <astrobin-loading-indicator></astrobin-loading-indicator>
</ng-template>

