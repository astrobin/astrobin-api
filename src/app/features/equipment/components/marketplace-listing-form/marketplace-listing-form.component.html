<div class="row">
  <div class="col-lg-5">
    <form [formGroup]="form">
      <formly-form
        [fields]="fields"
        [form]="form"
        [model]="model"
      ></formly-form>

      <button
        (click)="onSave($event)"
        [class.loading]="(loadingService.loading$ | async) || form.pending"
        class="btn btn-lg btn-primary w-100 mt-4"
      >
        <ng-container *ngIf="!!model?.id; else createButtonLabel">
          <fa-icon icon="save"></fa-icon>
          {{ "Save" | translate }}
        </ng-container>
        <ng-template #createButtonLabel>
          <fa-icon icon="plus"></fa-icon>
          {{ "Create" | translate }}
        </ng-template>
      </button>
    </form>
  </div>

  <div class="col-lg-7">
    <astrobin-marketplace-listing
      [listing]="form.value"
      [previewMode]="true"
    ></astrobin-marketplace-listing>
  </div>
</div>
