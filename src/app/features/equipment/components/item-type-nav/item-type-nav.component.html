<ul ngbNav #nav="ngbNav" [(activeId)]="activeType" class="nav-pills" [class.collapsed]="collapsed" orientation="vertical">
  <li *ngFor="let type of types" [ngbNavItem]="type.value.toLowerCase()" [disabled]="type.disabled">
    <a
      ngbNavLink
      routerLink="{{ routingBasePath }}/{{ type.value.toLowerCase() }}"
      [queryParams]="{'page': 1}"
    >
      <img src="/assets/images/{{ type.value.toLowerCase() }}-placeholder.png" alt="{{ type.label }}" />
      <span [hidden]="collapsed">
        {{ type.label }}
      </span>

      <span *ngIf="type.count" [hidden]="collapsed" class="count">
      {{ type.count | async }}
      </span>
    </a>


    <ul
      *ngIf="activeType === type.value.toLowerCase() && showSubNavigation"
      [hidden]="collapsed"
      ngbNav
      #subnav="ngbNav"
      [(activeId)]="activeSubNav"
      class="nav-pills"
      orientation="vertical"
    >
      <ng-container *ngIf="currentUser$ | async as currentUser">
        <li ngbNavItem="pending-review-explorer" *ngIf="currentUser | isEquipmentModerator">
          <a ngbNavLink routerLink="/equipment/pending-review-explorer/{{ type.value.toLowerCase() }}">
            {{ "Pending review" | translate }}
          </a>
          <span *ngIf="type.pendingReviewCount" class="count">{{ type.pendingReviewCount | async }}</span>
        </li>
      </ng-container>

      <li ngbNavItem="pending-edit-explorer">
        <a ngbNavLink routerLink="/equipment/pending-edit-explorer/{{ type.value.toLowerCase() }}">
          {{ "Pending edit" | translate }}
        </a>
        <span *ngIf="type.pendingEditCount" class="count">{{ type.pendingEditCount | async }}</span>
      </li>
    </ul>
  </li>
</ul>
