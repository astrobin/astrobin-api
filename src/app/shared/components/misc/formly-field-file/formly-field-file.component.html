<div (click)="openFileInput()" class="upload-container">
  <div *ngIf="!!selectedFiles && selectedFiles.length > 0; else chooseFileTemplate" class="file">
    <ng-container *ngFor="let selectedFile of selectedFiles">
      <img *ngIf="isImage(selectedFile.file); else notImageTemplate" [src]="selectedFile.url" alt="" />
      <ng-template #notImageTemplate>
        <div class="file-icon">
          <i class="fas fa-file"></i>
        </div>
      </ng-template>

      <span (click)="onDelete($event)">&times;</span>
    </ng-container>
  </div>

  <ng-template #chooseFileTemplate>
    <div class="helper-text">
      <div class="helper-text-content">
        <div>
          <div class="file-icon">
            <fa-icon *ngIf="!!props.image" icon="image"></fa-icon>
            <fa-icon *ngIf="!props.image" icon="file"></fa-icon>
          </div>
          <span *ngIf="!!props.image">
            {{ "Choose image" | translate }}
          </span>
          <span *ngIf="!props.image">
            {{ "Choose file" | translate }}
          </span>
        </div>
      </div>
    </div>

    <input
      #fileInput
      (change)="onChange($event)"
      [accept]="props.accept || '*'"
      [formlyAttributes]="field"
      [multiple]="false"
      id="file-input"
      style="display: none"
      type="file"
    />
  </ng-template>
</div>
